# Smart CCTV
CCTV with face detection program using simple webcam (can also be used for raspberry pi cameras although needs some adjustments).

Made with OpenCV, dlib, and pickle encryption.

# Dependencies
Made with Python 3.9.7 using Visual Studio Code (Windows 10) in a virtual environment.
Little bit of GUI is made with Tkinter.
```
?=Generated by pipreqs=?
face_recognition==1.3.0
imutils==0.5.4
opencv_python==4.5.5.62
```
Everything was installed using pip.

Note: 
- [face_recognition](https://github.com/ageitgey/face_recognition) module.
- [dlib wheel](https://github.com/shashankx86/dlib_compiled) used.

# What are those files?
## get_face_data.py
Uses Tkinter, OpenCV, time, and os modules.

- Waits for user input for the name of the face.
- Makes a new folder to store data (photo of a face) inside folder "dataset".
- Captures/snapshots a frame from a video input to take a photo.
- The amount of photos to be captured can be changed (the time it takes to finish will also change accordingly).
- Photos are stored in 224x224 resolution with BGR color format.

## encode_faces.py
Uses imutils, OpenCV, os, argparse, face recognition, and pickle modules.

- Determine detection method (HOG or CNN, default: CNN) for the pickle file which stores face embeddings.

CNN: more accurate, requires more processing power and memory resources.

HOG: less accurate, requires less processing power and memory resources (use this on raspberry pi).
- Determine what is the name for the pickle file (currently set to model.pickle) and will be stored in the same directory of encode_faces.py.

## face_recog_main.py
Uses imutils, OpenCV, time, argparse, face recognition, and pickle modules.

- Determine which cascade file to be used (uses the available cascade files from OpenCV).
- Determine which pickle file to be used.
- Shows a video output in a new window which has realtime face detection.

If an unknown face is detected, an "Unknown!" text will appear.

If a known face is detected, the name of that face will appear.

# Notes
- HOG detection method is required if program is running on raspberry pi.
- Low fps when program detects any face on the video input (face_recog_main.py), might require some adjustments.

# Developer
Albert E (vradnisntlong@gmail.com)
